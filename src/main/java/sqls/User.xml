<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="mul.cam.a.dao.UserDao">

<select id="idcheck" parameterType="String" resultType="String">
	SELECT ID
	FROM USER
	WHERE ID=#{id}
</select>

<select id="subjectlist" parameterType="String" resultType="mul.cam.a.dto.TestEduDto">
	select sub_name, sub_code, edu_code
	from subject
	where edu_code=#{edu_code}
</select>

<select id="eduname" parameterType="String" resultType="String">
	select edu_name
	from education
	where edu_code=#{edu_code}
</select>

<select id="subname" parameterType="String" resultType="String">
	select sub_name
	from subject
	where sub_code=#{sub_code}
</select>

<insert id="adduser" parameterType="mul.cam.a.dto.UserDto">
	insert into user(id, password, name, gender, email, birth, address, facename, newfacename, phone, phone_public, jointype, auth, breakaway, regidate)
	values(#{id}, #{password}, #{name}, #{gender}, #{email}, #{birth}, #{address}, #{facename}, '0', #{phone}, '0', 'cheesefriends', #{auth}, '0', now())
</insert>

<insert id="addusersubject" parameterType="mul.cam.a.dto.TestEduDto">
	insert into usersubject(user_id, sub_code, start_date, end_date)
	values(#{id}, #{subcode}, now(), now())
</insert> 

</mapper>